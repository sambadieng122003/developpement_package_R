% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/transfers_summary.R
\name{transfers_summary}
\alias{transfers_summary}
\title{Evaluate Transfer Scenarios on Poverty Reduction}
\usage{
transfers_summary(
  data,
  scenarios,
  baseline,
  params,
  pib,
  save_scenario = FALSE,
  path_scenario = ".",
  plot = TRUE
)
}
\arguments{
\item{data}{A data.frame containing household-level information}

\item{scenarios}{A named list of scenarios. Each element must be a list with:
\itemize{
\item \code{name}: label of the scenario (e.g., "Rural households")
\item \code{condition}: a logical expression (quoted) defining eligibility
\item \code{amount}: fixed transfer amount (numeric)
\item \code{id} (optional): custom identifier (otherwise auto-generated)
}}

\item{baseline}{Name of the baseline welfare (consumption) variable (e.g., "pcexp")}

\item{params}{A list with:
\itemize{
\item \code{var_poids}: name of the weight variable
\item \code{var_seuil}: poverty line, as a column name or numeric
}}

\item{pib}{Total GDP (numeric), to compute cost as a share of GDP}

\item{save_scenario}{Logical. If TRUE, saves the modified dataset with simulated variables}

\item{path_scenario}{File path where the simulated dataset will be saved (if \code{save_scenario = TRUE})}

\item{plot}{Logical. If TRUE, displays a barplot of scenario efficiency}
}
\value{
A list with two elements:
\describe{
\item{table}{A data.frame containing scenario results (id, headcount, cost, efficiency, etc.)}
\item{plot_efficiency}{A ggplot2 object showing the efficiency bar plot}
}
}
\description{
Simulates and compares multiple targeted cash transfer scenarios in terms of
poverty reduction, cost, and efficiency. Each scenario applies a fixed amount
to a subset of households defined by a logical condition.
}
\examples{
df <- data.frame(
  pcexp = c(80000, 150000, 200000, 50000, 120000, 400000),
  hhweight = c(1.2, 1.5, 1.3, 0.8, 1.0, 1.7),
  zref = rep(150000, 6),
  milieu = c("Rural", "Rural", "Urban", "Rural", "Urban", "Urban"),
  hage = c(3, 7, 35, 67, 10, 80),
  hhandig = c(0, 0, 1, 0, 1, 0)
)

scenarios <- list(
  list(name = "Universal", condition = quote(TRUE), amount = 100000),
  list(name = "Rural only", condition = quote(milieu == "Rural"), amount = 100000),
  list(name = "Child < 5", condition = quote(hage < 5), amount = 100000),
  list(name = "Disabled", condition = quote(hhandig == 1), amount = 100000)
)

transfers_summary(
  data = df,
  scenarios = scenarios,
  baseline = "pcexp",
  params = list(var_poids = "hhweight", var_seuil = "zref"),
  pib = 1e12,
  save_scenario = FALSE,
  plot = TRUE
)

}
